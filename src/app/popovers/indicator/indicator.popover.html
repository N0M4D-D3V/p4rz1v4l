<div class="w-100 position-absolute">
  <button
    class="btn btn-lg end-0 position-absolute p-2 px-3"
    (click)="onCloseTouched()"
  >
    <i class="bi bi-x-circle text-danger fw-bold"></i>
  </button>
</div>

<div class="mb-3 mt-5" [formGroup]="form" *ngIf="form">
  <select class="form-select" formControlName="symbol">
    <option selected disabled value="">Indicator</option>
    <option *ngFor="let indicator of indicators" [value]="indicator.symbol">
      {{ indicator | indicatorFormatter }}
    </option>
  </select>
  <select class="form-select" formControlName="operationType">
    <option selected disabled value="">Operation</option>
    <option value="buy">Buy</option>
    <option value="sell">Sell</option>
  </select>
  <div formArrayName="config" *ngIf="configVariables?.length > 0">
    <div
      class="input-group mt-3"
      *ngFor="let variable of configVariables; let i = index"
    >
      <label class="input-group-text" for="var-{{ i }}">{{
        variable | titlecase
      }}</label>
      <input
        type="number"
        class="form-control"
        id="var-{{ i }}"
        [formControlName]="i"
      />
    </div>
  </div>
</div>
<div class="w-100 text-center row m-0">
  <button
    class="btn btn-lg btn-danger col me-2"
    (click)="onDeleteTouched()"
    [disabled]="!editableIndicator"
  >
    <i class="bi bi-x-lg"></i>
  </button>
  <button
    class="btn btn-lg btn-success col"
    (click)="onSaveTouched()"
    [disabled]="!isValid"
  >
    <i class="bi bi-save-fill"></i>
  </button>
</div>
