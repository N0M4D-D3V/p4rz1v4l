<div class="w-100 position-relative">
  <button class="btn btn-lg end-0 position-absolute" (click)="onDismiss()">
    <i class="bi bi-x-circle text-danger fw-bold"></i>
  </button>
</div>

<div class="ps-5 mt-2">
  <h1>Estrategy {{selectedStrategy.index + 1}}</h1>
</div>

<div class="p-5">
  <div class="row">
    <div class="col-6">
      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <span class="input-group-text">Name</span>
        </div>
        <input type="text" class="form-control" placeholder="Strategy name" />
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-6">
      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <span class="input-group-text">Stoploss</span>
        </div>
        <input type="number " class="form-control" />
      </div>
    </div>
    <div class="col-6">
      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <span class="input-group-text">Take Profit</span>
        </div>
        <input type="number" class="form-control" />
      </div>
    </div>
  </div>

  <hr />
  <h2 class="text-center">Indicators</h2>

  <app-item
    *ngFor="let indicator of indicators; let index = index"
    [item]="indicator"
    (onDelete)="onDelete(index)"
    (onEdit)="onEdit($event)"
  ></app-item>

  <div class="w-100 mt-3" (click)="editPopover.open()">
    <button
      class="btn btn-lg btn-primary w-100"
      [ngbPopover]="popContent"
      [popoverTitle]="popTitle"
      [autoClose]="false"
      triggers="manual"
      placement="bottom auto"
      #editPopover="ngbPopover"
    >
      <i class="bi bi-plus-circle-fill"></i>
    </button>
  </div>

  <hr />

  <div class="row mt-5">
    <button class="btn btn-danger col me-1">DELETE</button>
    <button class="btn btn-success col ms-1">SAVE</button>
  </div>
</div>

<ng-template #popContent>
  <app-indicator-popover
    (onDelete)="editPopover.close()"
    (onSave)="onPopoverSave($event, editPopover)"
  ></app-indicator-popover>
</ng-template>
<ng-template #popTitle>ADD INDICATOR </ng-template>
